<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>企業管理 - ギフトループ</title>
    <meta name="description" content="企業管理ページ。ギフトオファー登録、掲載期間設定、当選番号管理、画像・説明の投稿を行います。" />
    <link rel="stylesheet" href="./css/styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="index.html" class="nav-logo" style="text-decoration-line: none">
          <i class="fas fa-gift"></i>
          <span>ギフトループ</span>
        </a>
        <ul class="nav-menu">
          <li><a href="index.html" data-nav="home">ホーム</a></li>
          <li><a href="shop.html" data-nav="shop">ショップ</a></li>
          <li><a href="river.html" data-nav="river">贈り物のループ</a></li>
          <li><a href="send-gift.html" data-nav="send-gift">贈り物を送る</a></li>
          <li><a href="receive-gift.html" data-nav="receive-gift">贈り物を受け取る</a></li>
          <li class="user-menu" style="display: none">
            <a href="mypage.html" class="user-profile">
              <i class="fas fa-user-circle"></i>
              <span class="user-name">ユーザー</span>
            </a>
            <div class="user-dropdown">
              <a href="mypage.html"><i class="fas fa-user"></i> マイページ</a>
              <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> ログアウト</a>
            </div>
          </li>
          <li>
            <a href="auth.html" class="btn-login" id="login-btn">ログイン</a>
          </li>
        </ul>
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>

    <section class="corp-header" style="margin-top: 4.5rem;">
      <div class="container">
        <div class="corp-hero">
          <h1><i class="fas fa-building"></i> 企業管理</h1>
          <p>ギフトオファー登録・掲載期間設定・当選番号管理</p>
        </div>
      </div>
    </section>

    <section class="corp-content">
      <div class="container">
        <div class="form-card">
          <div class="form-header">
            <h2><i class="fas fa-plus-circle"></i> ギフトオファーを登録</h2>
            <p>画像・説明・カテゴリ・価格・掲載期間を設定します</p>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="offerName">名称</label>
              <input type="text" id="offerName" placeholder="例: サマーフェス限定ギフト">
            </div>
            <div class="form-group">
              <label for="offerCategory">カテゴリー</label>
              <select id="offerCategory">
                <option value="food">食品・スイーツ</option>
                <option value="fashion">ファッション</option>
                <option value="beauty">美容・コスメ</option>
                <option value="electronics">家電・電子機器</option>
                <option value="books">書籍・文具</option>
                <option value="hobby">趣味・スポーツ</option>
                <option value="home">生活用品</option>
                <option value="other">その他</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="offerPrice">価格 (¥)</label>
              <input type="number" id="offerPrice" min="0" step="100" placeholder="2000">
            </div>
            <div class="form-group">
              <label for="offerSuper">特別(SUPER)</label>
              <select id="offerSuper">
                <option value="false">いいえ</option>
                <option value="true">はい</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="offerStart">掲載開始</label>
              <input type="datetime-local" id="offerStart">
            </div>
            <div class="form-group">
              <label for="offerEnd">掲載終了</label>
              <input type="datetime-local" id="offerEnd">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group" style="grid-column: 1 / -1;">
              <label for="offerImage">画像</label>
              <input type="file" id="offerImage" accept="image/*">
              <div class="image-preview" id="offerImagePreview"></div>
            </div>
          </div>
          <div class="form-group">
            <label for="offerDescription">説明</label>
            <textarea id="offerDescription" rows="4" placeholder="ギフトの説明を入力"></textarea>
          </div>
          <div class="form-actions" style="justify-content: flex-end;">
            <button class="btn-primary" id="resetOffer"><i class="fas fa-rotate"></i> リセット</button>
            <button class="btn-primary" id="saveOffer"><i class="fas fa-save"></i> 登録</button>
          </div>
        </div>

        <div class="corp-toolbar admin-toolbar" style="justify-content: space-between;">
          <div class="input-wrapper">
            <i class="fas fa-search"></i>
            <input type="text" id="corpSearch" placeholder="オファーを検索 (名称/カテゴリ/状態)">
          </div>
          <div class="chip-group" id="corpStatusFilters"></div>
        </div>

        <div id="offersList" class="admin-list"></div>
      </div>
    </section>

    <!-- Winning Numbers Modal -->
    <div id="numbersModal" class="modal" aria-hidden="true">
      <div class="modal-backdrop"></div>
      <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="numbersModalTitle">
        <div class="modal-header">
          <h3 id="numbersModalTitle"><i class="fas fa-hashtag"></i> 当選番号の管理</h3>
          <button class="modal-close" id="closeNumbersModal" aria-label="閉じる"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
          <div class="numbers-actions" style="display:flex; flex-wrap:wrap; gap:.5rem; align-items:center;">
            <div class="input-wrapper">
              <i class="fas fa-plus"></i>
              <input type="text" id="newNumber" placeholder="番号を追加 (例: 123456)">
            </div>
            <button class="btn-primary" id="addNumberBtn">追加</button>
            <div class="input-wrapper">
              <i class="fas fa-hashtag"></i>
              <input type="number" id="genCount" min="1" step="1" placeholder="30">
            </div>
            <div class="input-wrapper">
              <i class="fas fa-ruler-horizontal"></i>
              <input type="number" id="genLength" min="4" step="1" placeholder="8">
            </div>
            <button class="btn-primary" id="generateNumbersBtn">ランダム生成</button>
            <label class="btn-primary" for="importNumbersFile" style="cursor:pointer; display:inline-flex; align-items:center; gap:.5rem;">
              <i class="fas fa-file-import"></i> CSV取り込み
            </label>
            <input type="file" id="importNumbersFile" accept=".csv" style="display:none;" />
            <button class="btn-primary" id="exportNumbersBtn"><i class="fas fa-file-export"></i> CSV書き出し</button>
          </div>
          <div class="admin-table-wrapper" style="margin-top:.75rem;">
            <table class="admin-table" id="numbersTable">
              <thead>
                <tr>
                  <th>番号</th>
                  <th>状態</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div class="modal-actions">
          <button class="btn-primary" id="closeNumbersBtn">閉じる</button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-logo">
              <i class="fas fa-gift"></i>
              <span>ギフトループ</span>
            </div>
            <p>贈り物の新しい体験を提供するプラットフォーム</p>
          </div>
          <div class="footer-section">
            <h4>サービス</h4>
            <ul>
              <li><a href="index.html">ホーム</a></li>
              <li><a href="shop.html">ショップ</a></li>
              <li><a href="river.html">贈り物の川</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>会社情報</h4>
            <ul>
              <li><a href="about.html">会社概要</a></li>
              <li><a href="#">プライバシーポリシー</a></li>
              <li><a href="#">利用規約</a></li>
              <li><a href="#">お問い合わせ</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>フォローする</h4>
            <div class="social-links">
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 ギフトループ. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="js/partials.js"></script>
    <script src="js/notify.js"></script>
    <script src="js/core/App.js"></script>
    <script src="corporate.js"></script>
  </body>
</html> 